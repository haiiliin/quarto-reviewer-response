\usepackage[utf8]{inputenc}
\usepackage{amsmath}
\usepackage{lipsum}
\usepackage{fullpage}
\usepackage{mathrsfs}
\usepackage{svg}
\usepackage{xr}
\usepackage{amsthm,url,graphicx,booktabs,lipsum,color,bm,caption,subcaption,soul}
\usepackage{pifont,tikz,paralist,multirow,amssymb}
\usepackage{xifthen}
\usepackage{enumerate}
\usepackage{titlesec}
\usepackage{tcolorbox}
\usepackage{siunitx}
\tcbuselibrary{breakable}

\usepackage{graphics}

\newcounter{reviewer}
\setcounter{reviewer}{0}
\newcounter{point}[reviewer]
\setcounter{point}{0}

% This refines the format of how the reviewer/point reference will appear.
%\renewcommand{\thepoint}{C\,\thereviewer.\arabic{point}}

\renewcommand{\thepoint}{Comment\,\thereviewer.\arabic{point}}

% command declarations for reviewer points and our responses

\newenvironment{comment_AE}
   {\refstepcounter{point} \bigskip \noindent {\textbf{Associate Editor Comment~}} ---\ }
   {\par }

% \newcommand{\reviewersection}{\stepcounter{reviewer} \bigskip \noindent\rule{\textwidth}{0.6pt}
%                   \section*{Reviewer \thereviewer}}

\newcommand{\reviewersection}{\stepcounter{reviewer}
                  \section*{Reviewer \thereviewer}}

\newcommand{\horizontalline}{\noindent\rule{\textwidth}{0.6pt}}

\newenvironment{point}
   {\refstepcounter{point} \bigskip \noindent {\textbf{Reviewer~\thepoint} } ---\ }
   {\par }


\newcommand{\shortpoint}[1]{\refstepcounter{point}   \bigskip \noindent 
	{\textbf{Reviewer~Point~\thepoint} } ---~#1  }


%% without box
% \newenvironment{reply}
%    {\medskip \noindent \color{blue} \textbf{Reply}:\  }
%    {\medskip \par }


%% with box
\newenvironment{reply}[1][]
{
   \begin{tcolorbox}[colback=gray!10, colframe=black, width=\linewidth, arc=1.2mm, auto outer arc, boxrule=0.3pt, breakable, parbox=false]
   \textcolor{blue}{\textbf{Reply} \hfill #1}
   \tcblower
}{
   \end{tcolorbox}
}

\newenvironment{change}[1][]
{
   \begin{tcolorbox}[colback=green!20, colframe=black, width=\linewidth, arc=1.2mm, auto outer arc, boxrule=0.3pt, breakable, parbox=false]
   \textcolor{red}{\textbf{Change} \hfill #1}
   \tcblower
}{
   \end{tcolorbox}
}

\newenvironment{todo}[1][]
{
   \begin{tcolorbox}[colback=yellow!20, colframe=black, width=\linewidth, arc=1.2mm, auto outer arc, boxrule=0.3pt, breakable, parbox=false]
   \textcolor{red}{\textbf{Todo} \hfill #1}
   \tcblower
}{
   \end{tcolorbox}
}

\newcommand{\shortreply}[2][]{\medskip \noindent \begin{sf}\textbf{Reply}:\  {#2}
	\ifthenelse{\equal{#1}{}}{}{ \hfill \footnotesize (#1)}%
	\medskip \end{sf}}

\makeatletter
\newcommand*{\addFileDependency}[1]{% argument=file name and extension
  \typeout{(#1)}
  \@addtofilelist{#1}
  \IfFileExists{#1}{}{\typeout{No file #1.}}
}
\makeatother

\newcommand*{\myexternaldocument}[1]{%
    \externaldocument{#1}%
    \addFileDependency{#1.tex}%
    \addFileDependency{#1.aux}%
}

\myexternaldocument{main}
%\externaldocument[I-]{main}


\def\thesubsubsection{\arabic{subsubsection}}
\titleformat{\subsubsection}[runin]
{\normalfont\bfseries}
{\indent\thesubsubsection)}{0.5em}{}
